<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            padding:0;
            margin:0;
            box-sizing:border-box;
        }

        #wrapper {
            width:100%;
            height:100vh;
            display:flex;
            align-items:center;
            justify-content:center;
            flex-direction:column;
        }

        #wrapper > #generatedUrl {
            margin:10px 0;
        }

        #wrapper > form {
            width:50%;
            display:flex;
            align-items:center;
            justify-content:center;
        }

        #wrapper > form > input {
            width:40%;
            padding:8px 12px;
            font-size:17px;
            outline:none;
            border:1px solid #ccc;
        }

        #wrapper > form > button {
            padding:8px 12px;
            font-size:17px;
            border:1px solid #ccc;
            border-left:none;
            cursor:pointer;
        }

        #generatedUrl {
            cursor:pointer;
        }

    </style>
    <title>URL Shortener</title>
</head>
<body>
    <div id="wrapper">
        <form action="/api/short" method="post">
            <input type="text" required name="origUrl" placeholder="paste url here" id="origUrl"/>
            <button type="submit">submit</button>
        </form>
        <div id="generatedUrl">
            <p title="Copy to Clipboard" id="url__generator"><%= url %></p>
        </div>
    </div>

    <script>
        const  generatedUrl = document.querySelector('#generatedUrl');
        generatedUrl.addEventListener('click', (e) => {
            if (e.target) {
                navigator.clipboard.writeText(generatedUrl.textContent);
                alert('copied to clipboard');
            }
        });
    </script>
</body>
</html>